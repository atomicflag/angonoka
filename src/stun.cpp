#include <clipp.h>
#include <fmt/printf.h>
#include <memory>
#include <string>

#include "stun_dag/common.h"
#include "stun_dag/random_utils.h"
#include "stun_dag/schedule_info.h"
#include "stun_dag/stochastic_tunneling.h"
#include "stun_dag/temperature.h"
#include "stun_dag/utils.h"
#include <gsl/gsl-lite.hpp>
#include <range/v3/view/span.hpp>
#include <utility>

namespace angonoka::stun_dag {

void run()
{
    ScheduleInfo info{
        .agent_performance{
            0.8172546872726699F,
            0.6186614743424167F,
            1.0687576951308166F,
            1.4074231682897462F,
            0.8928487954724894F,
            1.1727210200848277F,
            0.9512689144450246F,
            1.037556496147793F,
            0.8479478705858914F,
            0.907070514891411F},
        .task_duration{0.34351296768779F,     0.049576358717295696F,
                       0.4703265496609915F,   0.2489363460622991F,
                       0.08913219689722139F,  0.31416393312687013F,
                       0.14626083677281895F,  0.17655864578975355F,
                       0.40467266456439577F,  0.05683189497580489F,
                       0.27047174535472773F,  0.05976747510378075F,
                       0.4678800491880673F,   0.3609457851188099F,
                       0.08490873183012772F,  0.17925996041573602F,
                       0.3704779108955182F,   0.19984486436306104F,
                       0.2772072154011235F,   0.20455287566179456F,
                       0.020133573318034906F, 0.10479635306457408F,
                       0.29848743508038844F,  0.10430988046216999F,
                       0.4382788735874765F,   0.35271994107717763F,
                       0.4111270795916633F,   0.13584828799434603F,
                       0.34387873401868985F,  0.12864042903394562F,
                       0.3450062706687856F,   0.25139577680830905F,
                       0.2534165228329931F,   0.3260113109515035F,
                       0.3603960899872119F,   0.06479634518210779F,
                       0.16289941340176584F,  0.3689639745607885F,
                       0.048803756241837276F, 0.42132612656191465F,
                       0.30345222575963F,     0.13595563223997995F,
                       0.4019491752865519F,   0.08890496997150912F,
                       0.4428316448952552F,   0.06069143596908205F,
                       0.1669469892019191F,   0.17736048162023113F,
                       0.4568294536354307F,   0.44240749499444065F,
                       0.19509306390925207F,  0.2688732515532693F,
                       0.14105480655535566F,  0.2650928652064785F,
                       0.32612357651576634F,  0.2942879758388907F,
                       0.05218453749916435F,  0.3985383737000138F,
                       0.40251942900160825F,  0.3005512996192024F,
                       0.06772703497315125F,  0.07615718759471304F,
                       0.24606481084630266F,  0.2566816730162967F,
                       0.45485061661812326F,  0.4688445842078399F,
                       0.1733580968737613F,   0.42228560810176574F,
                       0.158008859617412F,    0.36386576587725733F,
                       0.4997187777405777F,   0.07657994069590528F,
                       0.3627879973944513F,   0.4069238270317445F,
                       0.4706748364906855F,   0.05039801906612659F,
                       0.4561313535407964F,   0.1872917799351572F,
                       0.338937030981035F,    0.0873092152874242F,
                       0.36743197645565284F,  0.3991381874217204F,
                       0.27638061875473585F,  0.171986713238795F,
                       0.17472719165855763F,  0.31195060254768436F,
                       0.2798580271430416F,   0.4731069787480176F,
                       0.06409083142553834F,  0.26406246444640796F,
                       0.21393373996287013F,  0.24443557737055366F,
                       0.24711002903046908F,  0.46886277011768696F,
                       0.33322091525553876F,  0.28134433284685634F,
                       0.05893358331495978F,  0.27477860122464937F,
                       0.10286473789354753F,  0.26244670344007054F,
                       0.3790203314959736F,   0.13997519958783258F,
                       0.3812556534132955F,   0.466889934377589F,
                       0.3599241538013754F,   0.44013449515307224F,
                       0.20612272965807002F,  0.07084613957753574F,
                       0.11182018456817551F,  0.14927106220483632F,
                       0.28538201068963676F,  0.19956428407518867F,
                       0.3180564959394076F,   0.23542847706492392F,
                       0.13610124483249653F,  0.2132051964096837F,
                       0.15949848448064866F,  0.2269872472161648F,
                       0.1465764227294956F,   0.022687599152959502F},
        .available_agents_data{
            5, 6, 8, 8, 4, 0, 6, 0, 7, 6, 1, 9, 4, 2, 9, 6, 8, 8, 3,
            9, 2, 7, 5, 4, 1, 8, 2, 4, 3, 9, 5, 6, 2, 1, 8, 6, 5, 0,
            9, 7, 2, 5, 8, 4, 1, 3, 7, 4, 5, 8, 2, 3, 0, 6, 9, 1, 2,
            5, 8, 1, 0, 9, 3, 6, 4, 2, 9, 7, 1, 0, 5, 6, 8, 9, 0, 9,
            3, 7, 8, 2, 1, 4, 9, 2, 3, 5, 8, 7, 0, 6, 2, 3, 8, 3, 7,
            2, 1, 7, 4, 9, 3, 8, 1, 0, 3, 8, 7, 4, 2, 9, 5, 6, 2, 3,
            6, 5, 4, 8, 7, 1, 0, 2, 9, 4, 5, 7, 6, 0, 1, 9, 4, 9, 1,
            3, 9, 7, 3, 4, 6, 0, 2, 8, 9, 0, 9, 8, 5, 0, 6, 2, 1, 4,
            5, 3, 9, 7, 1, 4, 6, 0, 2, 8, 8, 0, 7, 2, 1, 6, 3, 4, 9,
            5, 9, 0, 2, 7, 5, 8, 1, 1, 5, 6, 8, 7, 0, 6, 7, 4, 5, 1,
            9, 2, 4, 3, 5, 7, 0, 1, 5, 8, 2, 4, 1, 5, 2, 6, 1, 8, 4,
            5, 1, 2, 3, 1, 2, 7, 0, 5, 8, 6, 7, 0, 4, 1, 5, 9, 2, 5,
            4, 2, 6, 3, 4, 0, 2, 1, 4, 1, 9, 3, 2, 5, 9, 8, 7, 2, 7,
            5, 6, 4, 6, 2, 1, 3, 7, 1, 3, 7, 2, 6, 5, 0, 1, 3, 9, 6,
            0, 2, 8, 4, 5, 5, 2, 7, 3, 5, 7, 2, 6, 1, 0, 9, 4, 9, 2,
            5, 3, 4, 7, 0, 8, 6, 1, 2, 3, 6, 9, 1, 3, 8, 7, 2, 5, 0,
            6, 4, 6, 4, 1, 0, 7, 5, 3, 6, 8, 2, 1, 7, 8, 9, 5, 3, 0,
            4, 2, 4, 8, 1, 3, 9, 0, 2, 6, 6, 9, 7, 8, 2, 4, 3, 7, 4,
            9, 8, 1, 3, 2, 5, 4, 0, 8, 3, 7, 2, 4, 0, 5, 3, 9, 6, 8,
            3, 6, 7, 9, 2, 1, 4, 0, 5, 0, 6, 1, 4, 8, 8, 0, 5, 9, 8,
            4, 7, 8, 7, 6, 4, 3, 2, 1, 6, 4, 0, 7, 0, 4, 9, 9, 2, 0,
            7, 8, 1, 7, 6, 2, 1, 4, 7, 0, 7, 3, 0, 4, 1, 6, 5, 7, 9,
            2, 8, 4, 3, 6, 9, 5, 0, 1, 2, 7, 7, 2, 6, 8, 2, 1, 9, 9,
            3, 5, 1, 8, 7, 9, 4, 5, 1, 6, 3, 9, 2, 4, 0, 8, 0, 3, 7,
            2, 6, 1, 0, 7, 9, 1, 6, 4, 0, 3, 7, 2, 4, 5, 1, 8, 6, 9,
            0, 1, 7, 1, 9, 8, 2, 7, 4, 5, 1, 3, 6, 0, 1, 7, 5, 3, 2,
            8, 1, 7, 5, 7, 6, 2, 5, 1, 8, 6, 5, 7, 1, 3, 4, 6, 2, 8,
            5, 9, 4, 9, 1, 3, 2, 1, 0, 9, 7, 6, 3, 5, 9, 7, 0, 3, 6,
            2, 4, 1, 8, 5, 6, 9, 1, 4, 0, 8, 7, 9, 4, 9, 1, 3, 2, 5,
            6, 2, 7, 9, 1, 3, 6, 8, 4, 0, 5, 7, 6, 4, 5, 9, 8, 3, 0,
            9, 4, 8, 1, 3, 9, 0, 6, 7, 2, 5, 8, 6, 3, 2, 5, 6, 8, 0,
            3, 6, 5, 0, 4, 1, 9, 7, 3, 0, 2, 7, 8, 5, 2, 4, 1, 8, 5,
            7, 0, 9, 2, 1, 9},
        .dependencies_data{
            0,   1,   2,   1,   14,  0,   1,   2,   3,   0,   1,
            2,   3,   4,   5,   1,   3,   4,   5,   6,   0,   1,
            3,   4,   5,   6,   0,   1,   2,   3,   4,   5,   6,
            8,   0,   3,   8,   9,   2,   0,   0,   9,   8,   3,
            14,  0,   1,   2,   3,   4,   5,   7,   8,   9,   11,
            0,   1,   3,   4,   5,   6,   7,   9,   10,  11,  12,
            9,   13,  14,  15,  1,   2,   4,   5,   6,   8,   9,
            11,  12,  13,  15,  16,  1,   3,   4,   5,   8,   9,
            10,  11,  12,  13,  14,  16,  0,   1,   2,   3,   4,
            5,   6,   7,   8,   9,   10,  11,  12,  13,  14,  16,
            17,  25,  17,  0,   2,   5,   6,   7,   9,   10,  13,
            14,  18,  19,  1,   3,   4,   12,  16,  20,  19,  11,
            20,  13,  0,   1,   2,   4,   6,   9,   10,  11,  12,
            13,  14,  15,  16,  18,  19,  20,  21,  22,  4,   5,
            18,  19,  20,  21,  8,   21,  14,  1,   2,   3,   4,
            5,   6,   7,   8,   9,   10,  11,  12,  13,  14,  16,
            17,  18,  21,  22,  23,  24,  25,  24,  1,   7,   27,
            28,  0,   1,   2,   3,   4,   5,   6,   8,   10,  11,
            12,  13,  14,  16,  17,  18,  19,  20,  21,  22,  23,
            26,  27,  28,  29,  30,  5,   6,   7,   9,   10,  20,
            24,  29,  0,   1,   2,   3,   4,   5,   6,   7,   8,
            9,   10,  11,  12,  14,  16,  17,  18,  19,  20,  21,
            22,  24,  26,  27,  28,  30,  31,  32,  32,  33,  1,
            4,   6,   11,  15,  18,  23,  28,  30,  0,   1,   2,
            3,   4,   5,   6,   11,  12,  13,  15,  16,  17,  18,
            19,  20,  23,  24,  25,  26,  27,  28,  29,  30,  32,
            33,  1,   2,   5,   6,   7,   8,   10,  11,  13,  17,
            18,  21,  23,  25,  26,  28,  29,  32,  34,  36,  0,
            1,   2,   3,   4,   5,   6,   7,   9,   11,  12,  13,
            14,  15,  16,  17,  18,  19,  20,  21,  23,  24,  25,
            26,  27,  28,  29,  30,  31,  32,  33,  34,  35,  36,
            37,  1,   2,   3,   4,   5,   7,   8,   9,   10,  11,
            13,  15,  16,  17,  18,  19,  20,  22,  23,  24,  25,
            26,  27,  28,  29,  30,  31,  33,  34,  36,  38,  3,
            6,   8,   10,  13,  15,  16,  17,  20,  23,  25,  26,
            27,  28,  29,  30,  31,  32,  39,  0,   1,   2,   3,
            4,   5,   6,   9,   11,  12,  13,  16,  17,  19,  20,
            22,  23,  24,  25,  26,  27,  28,  30,  31,  32,  33,
            34,  35,  36,  37,  39,  41,  4,   5,   7,   8,   11,
            12,  14,  15,  16,  17,  18,  19,  20,  21,  23,  25,
            26,  29,  30,  33,  34,  35,  39,  40,  41,  0,   1,
            6,   7,   8,   11,  12,  13,  14,  15,  18,  19,  22,
            24,  26,  28,  29,  31,  36,  40,  41,  41,  3,   7,
            40,  42,  30,  14,  34,  38,  6,   42,  19,  0,   2,
            4,   6,   8,   9,   10,  12,  14,  15,  16,  17,  19,
            20,  22,  23,  24,  26,  27,  29,  31,  32,  33,  34,
            38,  39,  41,  43,  44,  34,  4,   5,   39,  8,   41,
            7,   43,  12,  13,  45,  16,  21,  23,  29,  1,   3,
            4,   5,   8,   11,  12,  13,  14,  15,  16,  17,  18,
            19,  20,  21,  22,  24,  28,  30,  31,  33,  35,  36,
            37,  38,  39,  41,  44,  45,  47,  48,  0,   1,   2,
            3,   5,   7,   8,   9,   12,  13,  14,  15,  16,  17,
            18,  19,  20,  21,  22,  24,  25,  26,  27,  28,  30,
            31,  32,  34,  35,  36,  37,  38,  39,  40,  41,  42,
            44,  45,  46,  47,  48,  0,   2,   5,   11,  13,  15,
            16,  17,  23,  26,  30,  39,  40,  41,  43,  44,  45,
            46,  47,  48,  50,  5,   39,  49,  53,  23,  24,  27,
            30,  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,
            10,  11,  13,  14,  15,  16,  17,  18,  19,  20,  21,
            22,  23,  24,  25,  26,  27,  28,  29,  30,  31,  32,
            33,  34,  35,  36,  37,  38,  39,  40,  41,  42,  43,
            44,  45,  46,  47,  48,  49,  50,  51,  3,   4,   6,
            7,   8,   9,   10,  11,  13,  15,  16,  18,  21,  23,
            24,  25,  28,  29,  30,  33,  34,  35,  36,  37,  38,
            39,  41,  44,  45,  46,  47,  50,  51,  52,  53,  1,
            3,   6,   10,  12,  13,  14,  16,  18,  20,  22,  23,
            24,  25,  28,  29,  36,  39,  41,  42,  43,  47,  52,
            53,  33,  8,   51,  53,  54,  55,  21,  0,   1,   2,
            3,   4,   5,   6,   7,   8,   10,  11,  12,  14,  15,
            16,  17,  18,  19,  20,  21,  22,  23,  24,  25,  26,
            28,  29,  30,  31,  32,  33,  34,  35,  36,  37,  38,
            39,  40,  41,  42,  43,  44,  45,  46,  47,  48,  49,
            50,  51,  52,  53,  54,  0,   1,   2,   3,   4,   5,
            6,   7,   8,   9,   10,  11,  12,  13,  14,  15,  16,
            17,  18,  19,  20,  21,  22,  23,  24,  25,  26,  27,
            29,  30,  31,  32,  33,  34,  35,  36,  37,  38,  40,
            41,  42,  43,  44,  45,  46,  47,  48,  49,  50,  51,
            52,  53,  54,  55,  56,  57,  34,  5,   6,   13,  15,
            47,  20,  53,  23,  56,  57,  31,  0,   5,   38,  8,
            14,  49,  17,  53,  23,  56,  1,   3,   5,   10,  11,
            13,  15,  16,  17,  18,  19,  20,  22,  23,  24,  27,
            29,  30,  31,  32,  36,  37,  38,  40,  45,  46,  48,
            51,  55,  56,  57,  58,  59,  0,   1,   2,   4,   5,
            6,   7,   8,   9,   11,  12,  13,  14,  15,  16,  18,
            19,  21,  22,  23,  24,  27,  28,  29,  30,  31,  32,
            33,  34,  35,  36,  37,  38,  39,  41,  42,  43,  44,
            45,  46,  47,  48,  49,  50,  51,  52,  53,  54,  58,
            59,  59,  0,   1,   2,   3,   4,   5,   6,   7,   8,
            9,   10,  11,  12,  13,  14,  15,  16,  17,  18,  19,
            20,  21,  22,  23,  24,  25,  26,  27,  28,  29,  30,
            31,  32,  33,  34,  35,  36,  37,  38,  39,  40,  41,
            42,  43,  44,  45,  46,  47,  48,  49,  50,  51,  52,
            53,  54,  55,  56,  57,  58,  59,  60,  61,  34,  66,
            36,  2,   8,   41,  57,  27,  63,  0,   1,   2,   3,
            4,   5,   6,   7,   8,   9,   10,  11,  12,  13,  14,
            15,  16,  17,  19,  20,  21,  22,  23,  24,  25,  26,
            27,  28,  29,  30,  31,  32,  33,  34,  36,  37,  38,
            39,  40,  41,  42,  43,  44,  45,  46,  47,  48,  49,
            50,  51,  53,  54,  55,  56,  57,  58,  59,  60,  61,
            62,  63,  34,  66,  37,  71,  42,  11,  17,  18,  19,
            21,  54,  57,  26,  30,  0,   4,   6,   9,   10,  15,
            16,  18,  22,  23,  24,  25,  29,  31,  35,  36,  41,
            42,  43,  45,  49,  58,  60,  64,  0,   1,   2,   4,
            6,   7,   9,   13,  14,  16,  19,  20,  22,  23,  27,
            28,  29,  30,  31,  34,  35,  37,  39,  41,  42,  45,
            46,  47,  48,  49,  52,  53,  55,  56,  57,  58,  59,
            60,  61,  62,  63,  65,  66,  0,   1,   3,   4,   5,
            7,   8,   9,   10,  11,  12,  13,  14,  15,  16,  17,
            19,  20,  21,  22,  23,  24,  25,  26,  27,  28,  29,
            30,  31,  32,  33,  35,  37,  38,  39,  40,  41,  42,
            44,  45,  46,  47,  49,  50,  51,  52,  53,  54,  55,
            56,  57,  58,  59,  60,  61,  62,  63,  67,  0,   5,
            6,   7,   8,   9,   10,  12,  13,  16,  17,  18,  19,
            20,  21,  25,  26,  28,  31,  32,  33,  34,  35,  36,
            37,  38,  40,  41,  42,  43,  45,  46,  47,  50,  51,
            53,  54,  55,  56,  57,  60,  61,  62,  63,  64,  66,
            67,  68,  4,   5,   8,   10,  21,  22,  26,  27,  33,
            36,  37,  38,  49,  53,  55,  57,  58,  59,  60,  65,
            66,  68,  71,  0,   1,   2,   3,   4,   5,   6,   7,
            8,   9,   10,  11,  12,  13,  14,  15,  16,  17,  18,
            19,  20,  21,  22,  23,  24,  25,  26,  27,  28,  29,
            30,  31,  32,  33,  34,  35,  36,  37,  38,  39,  40,
            41,  42,  43,  44,  45,  46,  47,  48,  49,  51,  52,
            53,  54,  55,  56,  57,  58,  59,  60,  61,  62,  63,
            64,  65,  66,  67,  68,  69,  0,   1,   2,   3,   4,
            6,   7,   8,   9,   10,  11,  12,  13,  15,  16,  17,
            18,  19,  22,  23,  24,  25,  26,  27,  29,  30,  31,
            33,  34,  35,  36,  37,  38,  42,  43,  44,  45,  46,
            47,  48,  49,  50,  51,  53,  55,  56,  57,  58,  59,
            60,  61,  62,  63,  64,  65,  66,  67,  68,  69,  70,
            71,  72,  66,  70,  45,  59,  29,  0,   1,   2,   3,
            6,   7,   8,   9,   10,  11,  12,  13,  14,  15,  19,
            20,  21,  22,  23,  24,  25,  26,  27,  28,  29,  30,
            32,  33,  34,  35,  36,  37,  38,  39,  40,  41,  44,
            45,  47,  49,  51,  52,  53,  54,  55,  56,  57,  58,
            59,  60,  61,  62,  63,  64,  65,  66,  67,  68,  69,
            70,  72,  73,  0,   1,   3,   5,   8,   10,  11,  12,
            13,  17,  20,  22,  23,  24,  25,  28,  31,  32,  33,
            35,  36,  37,  38,  39,  42,  44,  45,  46,  50,  51,
            52,  54,  55,  56,  57,  58,  60,  64,  65,  68,  70,
            73,  1,   6,   13,  14,  25,  29,  33,  36,  40,  44,
            45,  49,  52,  58,  59,  66,  73,  74,  75,  76,  74,
            21,  38,  0,   2,   3,   4,   5,   6,   7,   8,   10,
            11,  12,  13,  14,  15,  16,  17,  18,  19,  20,  21,
            22,  23,  24,  25,  26,  27,  28,  29,  30,  32,  33,
            35,  36,  37,  38,  39,  40,  41,  42,  43,  44,  45,
            46,  48,  49,  50,  51,  52,  53,  54,  56,  57,  58,
            59,  60,  61,  62,  63,  64,  65,  66,  67,  68,  69,
            70,  71,  72,  73,  74,  75,  76,  77,  78,  2,   11,
            16,  17,  21,  33,  38,  41,  46,  49,  51,  54,  55,
            56,  57,  59,  60,  62,  63,  67,  70,  71,  72,  75,
            77,  1,   4,   5,   6,   7,   9,   11,  12,  13,  14,
            15,  17,  20,  21,  22,  24,  25,  28,  29,  30,  31,
            33,  34,  35,  36,  37,  38,  39,  40,  42,  44,  45,
            46,  47,  48,  49,  50,  51,  53,  54,  57,  59,  61,
            63,  64,  67,  69,  70,  71,  72,  74,  75,  76,  77,
            78,  0,   2,   3,   4,   6,   7,   8,   9,   10,  11,
            12,  14,  15,  16,  17,  18,  20,  21,  23,  24,  28,
            29,  30,  33,  34,  35,  36,  37,  38,  40,  41,  42,
            43,  44,  45,  47,  48,  49,  50,  53,  55,  57,  58,
            60,  62,  63,  64,  65,  66,  67,  70,  72,  73,  76,
            77,  79,  0,   1,   2,   3,   4,   5,   6,   7,   8,
            9,   10,  11,  12,  13,  14,  15,  16,  17,  18,  19,
            20,  21,  22,  23,  24,  25,  26,  27,  28,  29,  30,
            31,  32,  33,  34,  35,  36,  37,  38,  39,  40,  41,
            42,  43,  44,  45,  46,  47,  48,  49,  50,  51,  52,
            53,  54,  55,  56,  57,  58,  59,  60,  61,  62,  63,
            64,  65,  66,  67,  68,  69,  70,  71,  72,  73,  74,
            75,  76,  77,  78,  79,  80,  81,  82,  0,   1,   2,
            3,   4,   6,   7,   11,  12,  13,  14,  15,  17,  18,
            19,  21,  22,  23,  24,  27,  28,  30,  31,  32,  34,
            35,  36,  37,  40,  42,  43,  45,  46,  47,  49,  50,
            52,  53,  55,  56,  57,  59,  60,  61,  62,  63,  66,
            67,  70,  71,  72,  74,  75,  76,  77,  78,  81,  82,
            84,  3,   4,   6,   12,  18,  24,  26,  28,  31,  33,
            34,  37,  39,  41,  42,  43,  46,  48,  52,  55,  57,
            60,  64,  67,  68,  74,  75,  77,  80,  81,  83,  84,
            85,  86,  1,   33,  5,   70,  9,   44,  12,  15,  80,
            18,  19,  52,  84,  85,  51,  56,  82,  0,   1,   2,
            3,   4,   6,   7,   8,   9,   10,  11,  12,  13,  16,
            17,  18,  19,  20,  21,  22,  23,  24,  25,  26,  27,
            29,  31,  32,  33,  34,  35,  36,  38,  39,  41,  42,
            44,  45,  46,  47,  49,  50,  51,  52,  54,  56,  57,
            58,  59,  61,  62,  63,  64,  65,  66,  67,  68,  70,
            72,  73,  75,  76,  77,  78,  79,  80,  82,  83,  84,
            86,  87,  2,   3,   4,   5,   8,   9,   11,  12,  13,
            14,  15,  16,  17,  18,  21,  22,  24,  26,  30,  32,
            36,  37,  38,  40,  41,  48,  49,  53,  55,  56,  57,
            58,  61,  62,  64,  66,  68,  69,  70,  71,  73,  76,
            77,  78,  79,  81,  82,  84,  87,  68,  6,   20,  55,
            89,  30,  0,   1,   2,   3,   4,   5,   6,   7,   8,
            9,   10,  11,  12,  13,  14,  15,  17,  18,  19,  20,
            22,  23,  24,  25,  26,  27,  28,  29,  30,  31,  32,
            33,  35,  36,  37,  38,  39,  40,  41,  42,  43,  44,
            45,  46,  47,  48,  49,  50,  51,  52,  53,  54,  55,
            57,  58,  59,  61,  62,  63,  64,  66,  67,  68,  69,
            70,  71,  72,  73,  74,  75,  76,  77,  78,  79,  80,
            81,  82,  83,  84,  85,  86,  87,  88,  89,  90,  91,
            0,   1,   2,   3,   4,   5,   6,   7,   9,   10,  12,
            13,  14,  16,  18,  19,  20,  21,  22,  23,  24,  26,
            27,  28,  29,  30,  31,  32,  33,  34,  35,  37,  39,
            41,  43,  45,  46,  47,  48,  49,  50,  51,  52,  53,
            54,  55,  59,  60,  64,  65,  66,  68,  70,  72,  73,
            74,  76,  77,  78,  79,  80,  81,  82,  83,  84,  85,
            86,  87,  88,  90,  2,   7,   10,  12,  13,  21,  22,
            24,  26,  31,  35,  41,  42,  43,  49,  55,  56,  57,
            60,  64,  65,  66,  67,  68,  69,  71,  76,  77,  79,
            83,  85,  86,  87,  91,  0,   1,   4,   5,   6,   8,
            9,   11,  13,  14,  16,  18,  19,  21,  22,  23,  24,
            26,  27,  28,  30,  32,  33,  34,  35,  36,  37,  38,
            39,  40,  41,  42,  44,  46,  47,  48,  49,  51,  54,
            58,  60,  61,  62,  63,  64,  65,  70,  71,  72,  73,
            74,  75,  76,  77,  78,  79,  81,  82,  84,  85,  87,
            88,  89,  90,  91,  92,  93,  1,   2,   3,   4,   5,
            6,   7,   8,   9,   10,  11,  12,  13,  15,  17,  19,
            21,  22,  24,  25,  27,  28,  29,  30,  31,  32,  33,
            34,  35,  36,  38,  40,  41,  42,  45,  46,  47,  48,
            49,  50,  51,  52,  54,  55,  57,  59,  60,  61,  62,
            63,  66,  68,  70,  71,  73,  74,  75,  77,  79,  81,
            82,  84,  85,  86,  87,  88,  89,  91,  92,  93,  95,
            2,   3,   7,   8,   9,   11,  12,  14,  16,  17,  18,
            19,  22,  23,  24,  25,  28,  29,  31,  34,  35,  36,
            37,  38,  39,  42,  43,  46,  47,  50,  51,  52,  56,
            63,  64,  65,  67,  71,  72,  75,  78,  80,  82,  83,
            85,  87,  91,  92,  95,  1,   4,   8,   9,   11,  13,
            14,  17,  18,  20,  21,  22,  24,  25,  27,  29,  32,
            35,  36,  37,  38,  43,  45,  51,  52,  53,  55,  56,
            61,  62,  63,  64,  65,  67,  68,  70,  71,  72,  73,
            74,  75,  77,  81,  83,  86,  88,  89,  91,  93,  94,
            95,  96,  96,  51,  75,  31,  3,   5,   10,  11,  12,
            15,  19,  21,  22,  24,  25,  26,  27,  31,  32,  35,
            36,  37,  38,  40,  42,  43,  44,  45,  49,  50,  53,
            58,  59,  60,  62,  65,  68,  70,  74,  75,  80,  82,
            85,  88,  91,  93,  94,  95,  96,  98,  99,  98,  69,
            6,   10,  44,  21,  62,  90,  91,  30,  2,   5,   9,
            10,  12,  19,  20,  21,  24,  27,  30,  38,  41,  50,
            54,  59,  62,  63,  65,  67,  71,  76,  78,  92,  96,
            98,  100, 0,   1,   2,   3,   4,   5,   6,   7,   8,
            9,   10,  11,  12,  13,  14,  15,  16,  17,  18,  19,
            20,  21,  22,  23,  24,  25,  26,  27,  28,  29,  30,
            31,  32,  33,  34,  36,  37,  38,  39,  40,  41,  42,
            43,  44,  45,  46,  47,  48,  49,  50,  51,  53,  55,
            56,  57,  59,  60,  61,  62,  63,  64,  66,  67,  68,
            69,  70,  71,  72,  73,  74,  75,  76,  77,  78,  79,
            80,  81,  82,  83,  84,  85,  86,  87,  89,  90,  91,
            92,  93,  94,  95,  96,  97,  98,  99,  100, 101, 0,
            1,   3,   4,   5,   7,   8,   11,  12,  13,  14,  16,
            18,  19,  20,  21,  22,  23,  24,  25,  26,  27,  28,
            29,  30,  32,  33,  34,  36,  37,  39,  40,  41,  43,
            44,  46,  47,  48,  49,  50,  51,  52,  53,  54,  55,
            56,  57,  58,  59,  60,  63,  64,  65,  67,  68,  69,
            70,  71,  72,  73,  74,  76,  77,  78,  79,  80,  81,
            82,  83,  84,  85,  88,  89,  90,  91,  92,  93,  94,
            95,  97,  100, 102, 33,  3,   100, 102, 79,  85,  53,
            56,  61,  0,   1,   2,   3,   4,   5,   6,   7,   8,
            10,  11,  12,  13,  14,  15,  17,  18,  19,  20,  21,
            22,  24,  25,  26,  27,  28,  29,  30,  31,  32,  33,
            34,  35,  36,  37,  38,  39,  40,  41,  42,  44,  45,
            46,  47,  48,  49,  50,  51,  52,  54,  55,  56,  57,
            58,  59,  60,  61,  62,  63,  64,  65,  66,  67,  68,
            69,  70,  71,  72,  73,  74,  76,  77,  78,  79,  80,
            81,  82,  83,  85,  86,  87,  89,  90,  91,  93,  95,
            96,  97,  98,  99,  100, 101, 102, 103, 0,   2,   4,
            7,   8,   9,   10,  14,  15,  16,  17,  19,  20,  21,
            22,  25,  26,  27,  31,  32,  33,  35,  37,  38,  43,
            44,  45,  46,  47,  48,  53,  55,  56,  58,  59,  60,
            61,  62,  64,  65,  67,  68,  69,  70,  72,  74,  75,
            76,  77,  78,  79,  81,  82,  85,  86,  87,  89,  90,
            91,  92,  94,  95,  96,  99,  103, 104, 1,   2,   3,
            4,   5,   6,   7,   8,   9,   10,  11,  12,  13,  14,
            15,  16,  17,  18,  20,  21,  22,  23,  24,  26,  27,
            28,  30,  31,  32,  33,  34,  35,  36,  37,  38,  40,
            41,  42,  43,  44,  45,  46,  47,  48,  50,  51,  52,
            53,  54,  55,  56,  57,  58,  59,  60,  61,  63,  64,
            65,  66,  68,  69,  70,  71,  72,  73,  74,  75,  76,
            77,  79,  80,  82,  84,  85,  86,  87,  88,  89,  90,
            91,  92,  93,  95,  96,  97,  98,  100, 104, 105, 0,
            1,   2,   3,   4,   5,   6,   8,   9,   10,  11,  12,
            13,  14,  15,  16,  18,  19,  20,  21,  22,  23,  24,
            25,  26,  27,  28,  29,  30,  31,  32,  33,  34,  35,
            36,  37,  38,  40,  41,  42,  43,  44,  45,  46,  47,
            48,  49,  50,  51,  52,  53,  54,  55,  56,  58,  59,
            60,  61,  62,  64,  65,  66,  67,  68,  69,  70,  71,
            72,  73,  75,  76,  77,  78,  79,  81,  82,  83,  84,
            85,  86,  87,  88,  89,  90,  91,  92,  93,  94,  95,
            96,  97,  98,  99,  100, 101, 102, 103, 104, 105, 106,
            1,   68,  69,  106, 107, 108, 0,   2,   3,   4,   5,
            6,   8,   9,   10,  11,  12,  13,  14,  15,  16,  18,
            19,  20,  21,  22,  23,  24,  25,  26,  27,  28,  29,
            30,  31,  32,  33,  34,  35,  36,  37,  39,  40,  41,
            42,  43,  44,  45,  46,  47,  48,  49,  50,  51,  52,
            53,  54,  56,  57,  58,  59,  60,  62,  63,  64,  65,
            66,  67,  68,  69,  70,  71,  72,  73,  74,  75,  76,
            77,  78,  80,  81,  82,  83,  85,  86,  87,  88,  89,
            90,  92,  93,  94,  95,  98,  99,  100, 102, 103, 104,
            105, 106, 108, 109, 106, 109, 13,  79,  48,  80,  81,
            83,  84,  20,  54,  86,  28,  29,  63,  1,   3,   5,
            11,  12,  14,  17,  20,  28,  30,  34,  39,  40,  43,
            52,  58,  60,  61,  70,  72,  75,  76,  78,  81,  85,
            101, 110, 111, 8,   9,   10,  11,  12,  14,  16,  19,
            20,  21,  24,  30,  31,  38,  41,  44,  50,  52,  53,
            60,  64,  67,  69,  73,  88,  89,  91,  97,  98,  103,
            112, 4,   5,   8,   19,  20,  21,  22,  23,  25,  27,
            30,  33,  35,  38,  39,  40,  44,  53,  56,  57,  64,
            67,  70,  71,  73,  76,  78,  79,  83,  85,  88,  92,
            93,  94,  96,  97,  102, 103, 107, 109, 110, 113, 0,
            1,   2,   3,   4,   5,   6,   7,   8,   9,   10,  11,
            12,  13,  14,  16,  17,  18,  19,  20,  21,  23,  25,
            26,  27,  30,  31,  32,  33,  34,  35,  36,  37,  38,
            39,  41,  42,  43,  44,  45,  46,  47,  48,  49,  51,
            52,  53,  54,  55,  56,  57,  58,  59,  60,  61,  62,
            63,  64,  65,  66,  67,  68,  69,  70,  71,  72,  74,
            75,  76,  77,  78,  79,  80,  81,  82,  83,  84,  85,
            87,  88,  89,  91,  92,  93,  94,  95,  96,  98,  100,
            101, 102, 103, 104, 105, 106, 107, 108, 109, 112, 113,
            115, 0,   1,   2,   3,   4,   6,   7,   8,   9,   10,
            11,  12,  13,  14,  15,  16,  18,  19,  20,  21,  22,
            24,  25,  26,  27,  28,  29,  30,  31,  32,  33,  34,
            35,  36,  37,  38,  40,  42,  43,  44,  45,  47,  48,
            49,  50,  51,  52,  55,  56,  57,  58,  60,  61,  62,
            63,  64,  65,  66,  67,  68,  69,  70,  72,  73,  74,
            77,  78,  79,  80,  81,  84,  85,  86,  88,  89,  90,
            91,  93,  94,  95,  96,  98,  99,  100, 101, 102, 103,
            104, 105, 107, 108, 109, 110, 111, 112, 113, 114, 115,
            116, 1,   6,   7,   10,  11,  21,  23,  29,  35,  36,
            39,  40,  41,  44,  46,  50,  52,  61,  64,  65,  67,
            69,  71,  74,  77,  78,  79,  81,  84,  86,  87,  88,
            91,  94,  95,  98,  104, 105, 108, 110, 111, 115, 116,
            0,   1,   2,   3,   4,   5,   6,   7,   10,  11,  12,
            14,  16,  17,  18,  19,  20,  21,  22,  24,  25,  26,
            27,  28,  29,  30,  31,  32,  33,  34,  35,  37,  40,
            41,  42,  45,  46,  47,  49,  50,  51,  52,  53,  54,
            55,  56,  58,  61,  63,  64,  66,  67,  70,  72,  73,
            74,  75,  76,  77,  78,  79,  80,  81,  82,  84,  85,
            86,  87,  88,  89,  91,  92,  93,  94,  95,  96,  97,
            98,  99,  100, 101, 102, 103, 104, 105, 106, 107, 108,
            110, 111, 112, 113, 114, 116, 117}};
    auto* aa_head = info.available_agents_data.data();
    const auto next_aa = [&](auto s) {
        return span<int16>{
            std::exchange(aa_head, std::next(aa_head, s)),
            s};
    };
    info.available_agents
        = {next_aa(3),  next_aa(4),  next_aa(5), next_aa(5),
           next_aa(8),  next_aa(7),  next_aa(5), next_aa(9),
           next_aa(10), next_aa(8),  next_aa(9), next_aa(1),
           next_aa(6),  next_aa(10), next_aa(2), next_aa(4),
           next_aa(6),  next_aa(10), next_aa(9), next_aa(2),
           next_aa(6),  next_aa(1),  next_aa(4), next_aa(1),
           next_aa(8),  next_aa(2),  next_aa(7), next_aa(10),
           next_aa(10), next_aa(1),  next_aa(1), next_aa(5),
           next_aa(4),  next_aa(3),  next_aa(2), next_aa(2),
           next_aa(8),  next_aa(4),  next_aa(1), next_aa(6),
           next_aa(3),  next_aa(6),  next_aa(9), next_aa(3),
           next_aa(3),  next_aa(3),  next_aa(3), next_aa(6),
           next_aa(4),  next_aa(6),  next_aa(2), next_aa(6),
           next_aa(8),  next_aa(2),  next_aa(1), next_aa(9),
           next_aa(1),  next_aa(9),  next_aa(3), next_aa(10),
           next_aa(1),  next_aa(9),  next_aa(9), next_aa(8),
           next_aa(3),  next_aa(4),  next_aa(7), next_aa(5),
           next_aa(8),  next_aa(10), next_aa(5), next_aa(1),
           next_aa(6),  next_aa(5),  next_aa(6), next_aa(2),
           next_aa(1),  next_aa(2),  next_aa(4), next_aa(4),
           next_aa(2),  next_aa(3),  next_aa(8), next_aa(10),
           next_aa(2),  next_aa(5),  next_aa(5), next_aa(3),
           next_aa(8),  next_aa(7),  next_aa(6), next_aa(10),
           next_aa(3),  next_aa(4),  next_aa(6), next_aa(4),
           next_aa(6),  next_aa(5),  next_aa(4), next_aa(8),
           next_aa(5),  next_aa(4),  next_aa(2), next_aa(10),
           next_aa(1),  next_aa(5),  next_aa(3), next_aa(7),
           next_aa(10), next_aa(8),  next_aa(5), next_aa(7),
           next_aa(1),  next_aa(6),  next_aa(8), next_aa(5),
           next_aa(2),  next_aa(5),  next_aa(2), next_aa(3)};
    auto* dep_head = info.dependencies_data.data();
    const auto next_dep = [&](auto s) {
        return span<int16>{
            std::exchange(dep_head, std::next(dep_head, s)),
            s};
    };
    info.dependencies
        = {next_dep(0),   next_dep(0),   next_dep(0),  next_dep(0),
           next_dep(0),   next_dep(1),   next_dep(2),  next_dep(2),
           next_dep(4),   next_dep(6),   next_dep(5),  next_dep(6),
           next_dep(7),   next_dep(3),   next_dep(4),  next_dep(2),
           next_dep(3),   next_dep(10),  next_dep(11), next_dep(4),
           next_dep(12),  next_dep(12),  next_dep(17), next_dep(2),
           next_dep(11),  next_dep(6),   next_dep(4),  next_dep(18),
           next_dep(6),   next_dep(3),   next_dep(22), next_dep(3),
           next_dep(2),   next_dep(26),  next_dep(8),  next_dep(28),
           next_dep(11),  next_dep(26),  next_dep(20), next_dep(35),
           next_dep(31),  next_dep(19),  next_dep(32), next_dep(25),
           next_dep(21),  next_dep(3),   next_dep(4),  next_dep(5),
           next_dep(29),  next_dep(15),  next_dep(32), next_dep(41),
           next_dep(21),  next_dep(8),   next_dep(51), next_dep(35),
           next_dep(24),  next_dep(7),   next_dep(52), next_dep(56),
           next_dep(12),  next_dep(10),  next_dep(33), next_dep(50),
           next_dep(1),   next_dep(62),  next_dep(9),  next_dep(61),
           next_dep(14),  next_dep(24),  next_dep(43), next_dep(58),
           next_dep(48),  next_dep(23),  next_dep(69), next_dep(62),
           next_dep(5),   next_dep(62),  next_dep(42), next_dep(20),
           next_dep(3),   next_dep(73),  next_dep(25), next_dep(55),
           next_dep(56),  next_dep(83),  next_dep(59), next_dep(34),
           next_dep(17),  next_dep(71),  next_dep(49), next_dep(6),
           next_dep(86),  next_dep(70),  next_dep(34), next_dep(67),
           next_dep(71),  next_dep(49),  next_dep(52), next_dep(4),
           next_dep(47),  next_dep(10),  next_dep(27), next_dep(96),
           next_dep(82),  next_dep(9),   next_dep(94), next_dep(66),
           next_dep(90),  next_dep(100), next_dep(6),  next_dep(97),
           next_dep(15),  next_dep(28),  next_dep(31), next_dep(42),
           next_dep(101), next_dep(99),  next_dep(43), next_dep(95)};

    std::vector<StateItem> state{
        {0, 5},   {2, 8},   {5, 0},   {14, 4},  {22, 8},  {1, 8},
        {3, 2},   {15, 0},  {4, 7},   {6, 2},   {7, 4},   {8, 9},
        {9, 0},   {10, 1},  {11, 2},  {19, 8},  {30, 1},  {12, 1},
        {13, 2},  {16, 2},  {17, 4},  {25, 9},  {18, 4},  {28, 9},
        {20, 7},  {21, 0},  {32, 8},  {23, 5},  {24, 8},  {40, 9},
        {26, 0},  {27, 2},  {29, 1},  {31, 7},  {36, 7},  {33, 5},
        {34, 9},  {35, 5},  {37, 1},  {38, 5},  {39, 5},  {41, 3},
        {42, 8},  {44, 5},  {45, 6},  {53, 0},  {43, 4},  {48, 3},
        {46, 2},  {47, 4},  {49, 1},  {50, 7},  {51, 3},  {61, 5},
        {52, 7},  {54, 3},  {55, 9},  {56, 2},  {57, 2},  {58, 9},
        {59, 6},  {66, 4},  {60, 1},  {63, 4},  {75, 6},  {62, 8},
        {71, 7},  {64, 5},  {78, 7},  {65, 8},  {67, 0},  {68, 8},
        {69, 0},  {72, 8},  {70, 2},  {73, 0},  {84, 9},  {74, 9},
        {76, 0},  {77, 7},  {86, 4},  {79, 0},  {80, 0},  {81, 8},
        {82, 7},  {83, 6},  {85, 9},  {87, 7},  {89, 5},  {88, 8},
        {90, 0},  {91, 0},  {92, 0},  {93, 1},  {94, 7},  {95, 0},
        {96, 3},  {97, 7},  {98, 8},  {99, 1},  {100, 4}, {111, 1},
        {101, 6}, {102, 5}, {103, 5}, {108, 6}, {104, 8}, {105, 4},
        {106, 2}, {107, 7}, {109, 9}, {110, 9}, {115, 6}, {112, 3},
        {113, 3}, {114, 3}, {116, 5}, {117, 4}, {118, 0}, {119, 2}};

    float beta = 1.0F;
    for (int i{0}; i < 1000; ++i) {

        RandomUtils random_utils;
        Mutator mutator{info, random_utils};
        Makespan makespan{info};
        Temperature temperature{
            Beta{beta},
            BetaScale{1e-4f},
            StunWindow{10000}};
        auto r = stochastic_tunneling(
            state,
            STUNOptions{
                .mutator{&mutator},
                .random{&random_utils},
                .makespan{&makespan},
                .temp{&temperature},
                .gamma{.5F}});
        state = std::move(r.state);
        beta = r.temperature;
    }
}
} // namespace angonoka::stun_dag

namespace {
struct Options {
};
} // namespace

int main(int /*unused*/, char** /*unused*/)
{
    using namespace clipp;
    // TODO: Add a test STUN invocation.

    // Options options;

    // group cli{value("input file", options.filename)};
    //
    // if (!parse(argc, argv, cli)) {
    //     fmt::print("{}", make_man_page(cli, *argv));
    //     return 1;
    // }

    angonoka::stun_dag::run();
    return 0;
}
